{% extends 'base.html' %}

{% block title %}Email Template Library{% endblock %}

{% block 'Body' %}
<div class="container my-5">
    <div class="row mb-4">
        <div class="col-12">
            <h2>ğŸ“š Email Template Library</h2>
            <p class="text-muted">Choose a template to get started, then customize it for your needs</p>
        </div>
    </div>

    <!-- Template Cards -->
    <div class="row g-4">
        
        <!-- Template 1: Welcome -->
        <div class="col-md-6">
            <div class="card h-100 border-primary">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">ğŸ‘‹ Welcome Announcement</h5>
                </div>
                <div class="card-body">
                    <span class="badge bg-info mb-2">Announcements</span>
                    <p class="card-text">Warm welcome message for new users with clear call-to-action.</p>
                    <strong>Best for:</strong> Onboarding, new feature launches
                    <hr>
                    <small class="text-muted">
                        <strong>Includes:</strong> Greeting, bullet points, button CTA
                    </small>
                </div>
                <div class="card-footer">
                    <button class="btn btn-primary w-100" onclick="loadTemplate('welcome')">
                        Use This Template
                    </button>
                </div>
            </div>
        </div>

        <!-- Template 2: Feature Update -->
        <div class="col-md-6">
            <div class="card h-100 border-success">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">ğŸš€ Feature Update</h5>
                </div>
                <div class="card-body">
                    <span class="badge bg-info mb-2">Announcements</span>
                    <p class="card-text">Announce new features with benefits and clear next steps.</p>
                    <strong>Best for:</strong> Product updates, new tools
                    <hr>
                    <small class="text-muted">
                        <strong>Includes:</strong> Highlighted box, benefits list, action button
                    </small>
                </div>
                <div class="card-footer">
                    <button class="btn btn-success w-100" onclick="loadTemplate('feature')">
                        Use This Template
                    </button>
                </div>
            </div>
        </div>

        <!-- Template 3: Action Reminder -->
        <div class="col-md-6">
            <div class="card h-100 border-warning">
                <div class="card-header bg-warning">
                    <h5 class="mb-0">â° Action Reminder</h5>
                </div>
                <div class="card-body">
                    <span class="badge bg-warning mb-2">Marketing</span>
                    <p class="card-text">Encourage users to take action with gentle reminders.</p>
                    <strong>Best for:</strong> Re-engagement, inactive users
                    <hr>
                    <small class="text-muted">
                        <strong>Includes:</strong> Stats/facts, tip box, strong CTA
                    </small>
                </div>
                <div class="card-footer">
                    <button class="btn btn-warning w-100" onclick="loadTemplate('reminder')">
                        Use This Template
                    </button>
                </div>
            </div>
        </div>

        <!-- Template 4: Newsletter -->
        <div class="col-md-6">
            <div class="card h-100 border-info">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">ğŸ“° Newsletter</h5>
                </div>
                <div class="card-body">
                    <span class="badge bg-info mb-2">Marketing</span>
                    <p class="card-text">Weekly digest with multiple sections and tips.</p>
                    <strong>Best for:</strong> Regular updates, community news
                    <hr>
                    <small class="text-muted">
                        <strong>Includes:</strong> Multiple sections, stats, tips, dual CTAs
                    </small>
                </div>
                <div class="card-footer">
                    <button class="btn btn-info w-100" onclick="loadTemplate('newsletter')">
                        Use This Template
                    </button>
                </div>
            </div>
        </div>

        <!-- Template 5: Special Offer -->
        <div class="col-md-6">
            <div class="card h-100 border-danger">
                <div class="card-header bg-danger text-white">
                    <h5 class="mb-0">ğŸ‰ Special Offer</h5>
                </div>
                <div class="card-body">
                    <span class="badge bg-danger mb-2">Marketing</span>
                    <p class="card-text">Eye-catching promotional email with urgency elements.</p>
                    <strong>Best for:</strong> Sales, limited offers, promotions
                    <hr>
                    <small class="text-muted">
                        <strong>Includes:</strong> Gradient header, offer box, urgency message
                    </small>
                </div>
                <div class="card-footer">
                    <button class="btn btn-danger w-100" onclick="loadTemplate('offer')">
                        Use This Template
                    </button>
                </div>
            </div>
        </div>

        <!-- Template 6: Simple Text -->
        <div class="col-md-6">
            <div class="card h-100 border-secondary">
                <div class="card-header bg-secondary text-white">
                    <h5 class="mb-0">ğŸ“ Simple Message</h5>
                </div>
                <div class="card-body">
                    <span class="badge bg-secondary mb-2">All Types</span>
                    <p class="card-text">Clean, straightforward message template for any purpose.</p>
                    <strong>Best for:</strong> Quick announcements, notices
                    <hr>
                    <small class="text-muted">
                        <strong>Includes:</strong> Basic greeting, message, simple CTA
                    </small>
                </div>
                <div class="card-footer">
                    <button class="btn btn-secondary w-100" onclick="loadTemplate('simple')">
                        Use This Template
                    </button>
                </div>
            </div>
        </div>

    </div>

    <!-- Help Section -->
    <div class="card mt-5 border-0 bg-light">
        <div class="card-body">
            <h4>ğŸ’¡ Need Help?</h4>
            <div class="row">
                <div class="col-md-4">
                    <h6>ğŸ“– Variables</h6>
                    <ul class="small">
                        <li><code>{{first_name}}</code> - User's name</li>
                        <li><code>{{username}}</code> - Username</li>
                        <li><code>{{site_name}}</code> - OpenSell</li>
                        <li><code>{{site_url}}</code> - Site URL</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h6>ğŸ¨ Quick Styles</h6>
                    <ul class="small">
                        <li><code>&lt;strong&gt;</code> - Bold</li>
                        <li><code>&lt;em&gt;</code> - Italic</li>
                        <li><code>&lt;h2&gt;</code> - Heading</li>
                        <li><code>&lt;ul&gt;&lt;li&gt;</code> - List</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h6>âœ… Best Practices</h6>
                    <ul class="small">
                        <li>Keep subject under 50 chars</li>
                        <li>Use clear CTAs</li>
                        <li>Test before sending</li>
                        <li>Personalize with variables</li>
                    </ul>
                </div>
            </div>
            <div class="text-center mt-3">
                <a href="{% url 'bulk_email_create' %}" class="btn btn-outline-primary">
                    Skip Templates - Start from Scratch
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Hidden Templates Data -->
<script>
const templates = {
    welcome: {
        subject: "Welcome to OpenSell - Start selling today!",
        message: `<h2>Hi {{first_name}}! ğŸ‘‹</h2>

<p>Welcome to <strong>OpenSell</strong> - Nigeria's fastest growing marketplace!</p>

<p>We're excited to have you here. Here's what you can do right now:</p>

<ul>
    <li><strong>List your first product</strong> - It's free and takes 2 minutes</li>
    <li><strong>Browse categories</strong> - Discover what others are selling</li>
    <li><strong>Connect with buyers</strong> - Start making sales today</li>
</ul>

<p style="text-align: center; margin: 30px 0;">
    <a href="{{site_url}}/create-listing" style="display: inline-block; padding: 15px 40px; background: #0d6efd; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">List Your First Product</a>
</p>

<p>Need help getting started? <a href="{{site_url}}/help">Visit our Help Center</a> or reply to this email.</p>

<p>Happy selling!<br>
The OpenSell Team</p>`
    },
    
    feature: {
        subject: "New feature: Boost your listings for more sales!",
        message: `<h2>ğŸš€ Exciting News, {{first_name}}!</h2>

<p>We just launched a powerful new feature that will help you sell faster:</p>

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h3 style="color: #0d6efd; margin-top: 0;">âœ¨ Featured Listings</h3>
    <p>Get your products seen by <strong>10x more buyers</strong> by making them featured!</p>
    
    <ul>
        <li>Appear at the top of search results</li>
        <li>Get highlighted with a special badge</li>
        <li>Increase your sales by up to 300%</li>
    </ul>
</div>

<p style="text-align: center; margin: 30px 0;">
    <a href="{{site_url}}/my-products" style="display: inline-block; padding: 15px 40px; background: #198754; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">Boost My Listings</a>
</p>

<p>Questions? We're here to help at <a href="mailto:support@opensell.online">support@opensell.online</a></p>`
    },
    
    reminder: {
        subject: "Your buyers are waitingâ€¦ list something today!",
        message: `<h2>Hey {{first_name}},</h2>

<p>We noticed you haven't listed anything recently. Don't miss out on potential sales!</p>

<div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0;">
    <strong>ğŸ’¡ Did you know?</strong><br>
    Sellers who list products regularly get <strong>5x more inquiries</strong> than those who don't!
</div>

<p><strong>What's selling right now:</strong></p>
<ul>
    <li>ğŸ“± Electronics & Gadgets</li>
    <li>ğŸ‘— Fashion & Accessories</li>
    <li>ğŸ  Home & Living</li>
    <li>ğŸ“š Books & Education</li>
</ul>

<p style="text-align: center; margin: 30px 0;">
    <a href="{{site_url}}/create-listing" style="display: inline-block; padding: 15px 40px; background: #0d6efd; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">List Something Now</a>
</p>

<p>It only takes 2 minutes to create a listing. Start earning today!</p>

<p>Cheers,<br>
The OpenSell Team</p>`
    },
    
    newsletter: {
        subject: "This week on OpenSell: Top picks & trending items",
        message: `<h2>ğŸ“° Weekly Digest for {{first_name}}</h2>

<p>Here's what's happening on OpenSell this week:</p>

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h3 style="color: #6610f2; margin-top: 0;">ğŸ”¥ Trending This Week</h3>
    <ul>
        <li><strong>500+ new listings</strong> added in Lagos</li>
        <li><strong>Electronics</strong> are selling fast</li>
        <li><strong>Fashion items</strong> getting 2x more views</li>
    </ul>
</div>

<h3>ğŸ’¡ Seller Tips:</h3>
<ol>
    <li><strong>Use clear photos</strong> - Products with 3+ photos sell faster</li>
    <li><strong>Price competitively</strong> - Check similar listings</li>
    <li><strong>Respond quickly</strong> - Fast replies = more sales</li>
</ol>

<p style="text-align: center; margin: 30px 0;">
    <a href="{{site_url}}" style="display: inline-block; padding: 12px 30px; background: #0d6efd; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">Browse Marketplace</a>
    <a href="{{site_url}}/create-listing" style="display: inline-block; padding: 12px 30px; background: #198754; color: white; text-decoration: none; border-radius: 5px; font-weight: bold; margin-left: 10px;">List Product</a>
</p>`
    },
    
    offer: {
        subject: "ğŸ‰ Limited Offer: Boost your sales this weekend!",
        message: `<div style="background: linear-gradient(135deg, #0d6efd 0%, #6610f2 100%); color: white; padding: 30px; text-align: center; border-radius: 8px; margin-bottom: 20px;">
    <h1 style="color: white; margin: 0;">ğŸ‰ Weekend Special!</h1>
    <p style="font-size: 1.2em; margin: 10px 0;">Get More Eyes on Your Products</p>
</div>

<p>Hi {{first_name}},</p>

<p>This weekend only, we're offering something special to help you sell faster!</p>

<div style="background: #d1ecf1; border: 2px solid #0dcaf0; padding: 20px; border-radius: 8px; margin: 20px 0; text-align: center;">
    <h2 style="color: #0c5460; margin-top: 0;">ğŸŒŸ Featured Listing Special</h2>
    <p style="font-size: 1.3em; margin: 10px 0;"><strong>Make your top 3 products featured</strong></p>
    <p style="font-size: 2em; color: #0d6efd; margin: 10px 0;"><strong>FREE</strong></p>
    <p style="font-size: 0.9em; margin: 5px 0;">Usually â‚¦500 each â€¢ Offer ends Sunday</p>
</div>

<p><strong>Why feature your products?</strong></p>
<ul>
    <li>âœ… Show up first in search results</li>
    <li>âœ… Get a special "Featured" badge</li>
    <li>âœ… Reach 10x more potential buyers</li>
    <li>âœ… Increase sales by up to 300%</li>
</ul>

<p style="text-align: center; margin: 30px 0;">
    <a href="{{site_url}}/my-products" style="display: inline-block; padding: 18px 50px; background: #198754; color: white; text-decoration: none; border-radius: 5px; font-weight: bold; font-size: 1.1em;">Claim Your Free Features</a>
</p>

<div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0;">
    <strong>â° Hurry!</strong> Offer expires Sunday at midnight. Don't miss out!
</div>

<p>See you on the marketplace!<br>
The OpenSell Team</p>`
    },
    
    simple: {
        subject: "Important update from OpenSell",
        message: `<h2>Hi {{first_name}},</h2>

<p>We wanted to share an important update with you.</p>

<p>[Your main message goes here. Keep it clear and concise.]</p>

<p><strong>What this means for you:</strong></p>
<ul>
    <li>Point one</li>
    <li>Point two</li>
    <li>Point three</li>
</ul>

<p style="text-align: center; margin: 30px 0;">
    <a href="{{site_url}}" style="display: inline-block; padding: 15px 40px; background: #0d6efd; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">Learn More</a>
</p>

<p>If you have any questions, feel free to reply to this email.</p>

<p>Best regards,<br>
The OpenSell Team</p>`
    }
};

function loadTemplate(templateName) {
    const template = templates[templateName];
    
    // Store in sessionStorage
    sessionStorage.setItem('email_subject', template.subject);
    sessionStorage.setItem('email_message', template.message);
    
    // Redirect to create page
    window.location.href = "{% url 'bulk_email_create' %}?template=" + templateName;
}
</script>
{% endblock %}

{% block 'Footer'%}
{% endblock %}