{% load static %}
<div class="pwa-install-modal" id="pwaInstallModal" aria-hidden="true" role="dialog">
    <div class="pwa-install-modal-content">
        <div class="pwa-install-modal-header">
            <h3 class="pwa-install-modal-title">
                <i class="bi bi-download"></i>
                Install OpenSell App
            </h3>
            <button type="button" class="pwa-install-modal-close" id="pwaModalClose" aria-label="Close">
                <i class="bi bi-x"></i>
            </button>
        </div>
        
        <div class="pwa-install-modal-body">
            <div class="pwa-install-intro">
                <p>Get the full OpenSell experience with our app! Enjoy faster loading, offline access, and seamless shopping.</p>
            </div>

            <!-- iOS Safari Instructions (Show directly, no button needed) -->
            <div class="pwa-install-steps" id="iosInstructions" style="display: none;">
                <div class="pwa-install-section-title">
                    <div class="browser-icon safari"></div>
                    Add to iPhone Home Screen
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">1</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Tap the Share button</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-box-arrow-up"></i> Share
                        </div>
                    </div>
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">2</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Select "Add to Home Screen"</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-plus-square-fill"></i> Add to Home Screen
                        </div>
                    </div>
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">3</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Tap "Add" to finish</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-check-circle-fill"></i> Add
                        </div>
                    </div>
                </div>
            </div>

            <!-- Android Instructions (Show with Install Now button) -->
            <div class="pwa-install-steps" id="androidInstructions" style="display: none;">
                <div class="pwa-install-section-title">
                    <i class="bi bi-android2"></i>
                    Install on Android
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">1</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Tap "Install Now" button below</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-download"></i> Install Now
                        </div>
                    </div>
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">2</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">If browser doesn't support, use menu (⋮)</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-three-dots-vertical"></i> Menu
                        </div>
                    </div>
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">3</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Select "Add to Home screen" or "Install app"</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-house-add-fill"></i> Add to Home screen
                        </div>
                    </div>
                </div>
            </div>

            <!-- Windows Instructions (Show with Install Now button) -->
            <div class="pwa-install-steps" id="windowsInstructions" style="display: none;">
                <div class="pwa-install-section-title">
                    <i class="bi bi-windows"></i>
                    Install on Windows
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">1</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Click "Install Now" button below</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-download"></i> Install Now
                        </div>
                    </div>
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">2</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">If browser doesn't support, look for install icon in address bar</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-app-indicator"></i> Install
                        </div>
                    </div>
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">3</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Or use browser menu → "Install App"</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-three-dots"></i> Menu
                        </div>
                    </div>
                </div>
            </div>

            <!-- Generic Instructions -->
            <div class="pwa-install-steps" id="genericInstructions" style="display: none;">
                <div class="pwa-install-section-title">
                    <i class="bi bi-download"></i>
                    Install Instructions
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">1</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Look for an "Install" or "Add to Home Screen" option in your browser menu</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-search"></i> Find Install Option
                        </div>
                    </div>
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">2</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Check the address bar for an install button or app icon</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-app-indicator"></i> Address Bar
                        </div>
                    </div>
                </div>
                <div class="pwa-step">
                    <div class="pwa-step-number">3</div>
                    <div class="pwa-step-content">
                        <p class="pwa-step-text">Use the "Install App" button in our footer or navbar</p>
                        <div class="pwa-step-icon">
                            <i class="bi bi-layout-text-sidebar-reverse"></i> Footer/Navbar
                        </div>
                    </div>
                </div>
            </div>

            <!-- Install Actions (Hidden for iOS) -->
            <div class="pwa-install-actions" id="pwaInstallActions">
                <button type="button" class="pwa-install-btn" id="pwaDirectInstall">
                    <i class="bi bi-download"></i>
                    Install Now
                </button>
                <button type="button" class="pwa-later-btn" id="pwaLaterBtn">
                    Maybe Later
                </button>
            </div>

            <div class="pwa-reminder-settings">
                <label class="pwa-reminder-checkbox">
                    <input type="checkbox" id="pwaNoReminder"> 
                    Don't show this again today
                </label>
            </div>
        </div>
    </div>
</div>